<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kyber Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/styles.css" />
    <link rel="icon" type="image/png" href="/static/favicon.png" />
    <script defer src="/static/app.js"></script>
  </head>
  <body>
    <!-- Login Modal -->
    <div id="loginModal" class="modal-overlay hidden">
      <div class="modal-card">
        <div class="modal-logo">
          <img src="/static/kyber_logo.png" alt="Kyber" />
        </div>
        <h2>Kyber Dashboard</h2>
        <p class="modal-desc">Enter your dashboard token to continue.</p>
        <div class="input-group">
          <input id="tokenInput" type="password" placeholder="Paste token here…" autocomplete="off" />
        </div>
        <button id="tokenSubmit" class="btn btn-primary btn-full">Unlock</button>
      </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-top">
          <div class="sidebar-brand">
            <img src="/static/kyber_logo.png" alt="Kyber" class="sidebar-logo" />
          </div>
          <nav class="sidebar-nav" id="sidebarNav">
            <button class="nav-item active" data-section="providers">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 1L14.5 4.75V11.25L8 15L1.5 11.25V4.75L8 1Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg>
              Providers
            </button>
            <button class="nav-item" data-section="agents">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><circle cx="8" cy="5" r="3" stroke="currentColor" stroke-width="1.5"/><path d="M2 14c0-3.3 2.7-6 6-6s6 2.7 6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
              Agent
            </button>
            <button class="nav-item" data-section="channels">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 4h12M2 8h12M2 12h12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
              Channels
            </button>
            <button class="nav-item" data-section="tools">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M9.5 1.5L14.5 6.5L6.5 14.5H1.5V9.5L9.5 1.5Z" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/></svg>
              Tools
            </button>
            <button class="nav-item" data-section="gateway">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1.5" y="3" width="13" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/><rect x="1.5" y="9" width="13" height="4" rx="1" stroke="currentColor" stroke-width="1.5"/><circle cx="4.5" cy="5" r="0.75" fill="currentColor"/><circle cx="4.5" cy="11" r="0.75" fill="currentColor"/></svg>
              Gateway
            </button>
            <button class="nav-item" data-section="dashboard">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1.5" y="1.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.5"/><rect x="9.5" y="1.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.5"/><rect x="1.5" y="9.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.5"/><rect x="9.5" y="9.5" width="5" height="5" rx="1" stroke="currentColor" stroke-width="1.5"/></svg>
              Dashboard
            </button>
            <div class="nav-divider"></div>
            <button class="nav-item" data-section="json">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M5 1H3C1.9 1 1 1.9 1 3v2M11 1h2c1.1 0 2 .9 2 2v2M5 15H3c-1.1 0-2-.9-2-2v-2M11 15h2c1.1 0 2-.9 2-2v-2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>
              Raw JSON
            </button>
          </nav>
        </div>
        <div class="sidebar-bottom">
          <div class="status-pill" id="statusPill">
            <span class="status-dot"></span>
            <span id="statusText">Connecting…</span>
          </div>
        </div>
      </aside>

      <!-- Content -->
      <main class="content">
        <header class="topbar">
          <div class="topbar-left">
            <h1 id="pageTitle">Providers</h1>
            <p id="pageDesc" class="topbar-desc">Configure your LLM provider API keys and endpoints.</p>
          </div>
          <div class="topbar-actions">
            <span id="savedAt" class="saved-label"></span>
            <button id="refreshBtn" class="btn btn-ghost">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M1 8a7 7 0 0113.1-3.5M15 8A7 7 0 011.9 11.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M14 1v4h-4M2 15v-4h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Refresh
            </button>
            <button id="restartGwBtn" class="btn btn-ghost" title="Restart the gateway service">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M2 2v5h5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.05 10A6 6 0 1 0 4 4.5L2 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Restart Gateway
            </button>
            <button id="saveBtn" class="btn btn-primary">Save Changes</button>
          </div>
        </header>

        <div class="content-body" id="contentBody">
          <!-- Sections rendered by JS -->
        </div>
      </main>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast hidden"></div>
  </body>
</html>
