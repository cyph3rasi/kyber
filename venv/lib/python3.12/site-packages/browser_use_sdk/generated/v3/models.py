# generated by datamodel-codegen:
#   filename:  openapi.json

from __future__ import annotations

from enum import Enum
from typing import Any, Dict, List
from uuid import UUID

from pydantic import AwareDatetime, BaseModel, ConfigDict, Field, RootModel


class BuAgentSessionStatus(Enum):
    created = 'created'
    idle = 'idle'
    running = 'running'
    stopped = 'stopped'
    timed_out = 'timed_out'
    error = 'error'


class BuModel(Enum):
    bu_mini = 'bu-mini'
    bu_max = 'bu-max'


class FileInfo(BaseModel):
    path: str = Field(..., title='Path')
    size: int = Field(..., title='Size')
    last_modified: AwareDatetime = Field(
        ..., alias='lastModified', title='Lastmodified'
    )
    url: str | None = Field(None, title='Url')


class FileListResponse(BaseModel):
    files: List[FileInfo] = Field(..., title='Files')
    next_cursor: str | None = Field(None, alias='nextCursor', title='Nextcursor')
    has_more: bool | None = Field(False, alias='hasMore', title='Hasmore')


class ProxyCountryCode(Enum):
    ad = 'ad'
    ae = 'ae'
    af = 'af'
    ag = 'ag'
    ai = 'ai'
    al = 'al'
    am = 'am'
    an = 'an'
    ao = 'ao'
    aq = 'aq'
    ar = 'ar'
    as_ = 'as'
    at = 'at'
    au = 'au'
    aw = 'aw'
    az = 'az'
    ba = 'ba'
    bb = 'bb'
    bd = 'bd'
    be = 'be'
    bf = 'bf'
    bg = 'bg'
    bh = 'bh'
    bi = 'bi'
    bj = 'bj'
    bl = 'bl'
    bm = 'bm'
    bn = 'bn'
    bo = 'bo'
    bq = 'bq'
    br = 'br'
    bs = 'bs'
    bt = 'bt'
    bv = 'bv'
    bw = 'bw'
    by = 'by'
    bz = 'bz'
    ca = 'ca'
    cc = 'cc'
    cd = 'cd'
    cf = 'cf'
    cg = 'cg'
    ch = 'ch'
    ck = 'ck'
    cl = 'cl'
    cm = 'cm'
    co = 'co'
    cr = 'cr'
    cs = 'cs'
    cu = 'cu'
    cv = 'cv'
    cw = 'cw'
    cx = 'cx'
    cy = 'cy'
    cz = 'cz'
    de = 'de'
    dj = 'dj'
    dk = 'dk'
    dm = 'dm'
    do = 'do'
    dz = 'dz'
    ec = 'ec'
    ee = 'ee'
    eg = 'eg'
    eh = 'eh'
    er = 'er'
    es = 'es'
    et = 'et'
    fi = 'fi'
    fj = 'fj'
    fk = 'fk'
    fm = 'fm'
    fo = 'fo'
    fr = 'fr'
    ga = 'ga'
    gd = 'gd'
    ge = 'ge'
    gf = 'gf'
    gg = 'gg'
    gh = 'gh'
    gi = 'gi'
    gl = 'gl'
    gm = 'gm'
    gn = 'gn'
    gp = 'gp'
    gq = 'gq'
    gr = 'gr'
    gs = 'gs'
    gt = 'gt'
    gu = 'gu'
    gw = 'gw'
    gy = 'gy'
    hk = 'hk'
    hm = 'hm'
    hn = 'hn'
    hr = 'hr'
    ht = 'ht'
    hu = 'hu'
    id = 'id'
    ie = 'ie'
    il = 'il'
    im = 'im'
    in_ = 'in'
    iq = 'iq'
    ir = 'ir'
    is_ = 'is'
    it = 'it'
    je = 'je'
    jm = 'jm'
    jo = 'jo'
    jp = 'jp'
    ke = 'ke'
    kg = 'kg'
    kh = 'kh'
    ki = 'ki'
    km = 'km'
    kn = 'kn'
    kp = 'kp'
    kr = 'kr'
    kw = 'kw'
    ky = 'ky'
    kz = 'kz'
    la = 'la'
    lb = 'lb'
    lc = 'lc'
    li = 'li'
    lk = 'lk'
    lr = 'lr'
    ls = 'ls'
    lt = 'lt'
    lu = 'lu'
    lv = 'lv'
    ly = 'ly'
    ma = 'ma'
    mc = 'mc'
    md = 'md'
    me = 'me'
    mf = 'mf'
    mg = 'mg'
    mh = 'mh'
    mk = 'mk'
    ml = 'ml'
    mm = 'mm'
    mn = 'mn'
    mo = 'mo'
    mp = 'mp'
    mq = 'mq'
    mr = 'mr'
    ms = 'ms'
    mt = 'mt'
    mu = 'mu'
    mv = 'mv'
    mw = 'mw'
    mx = 'mx'
    my = 'my'
    mz = 'mz'
    na = 'na'
    nc = 'nc'
    ne = 'ne'
    nf = 'nf'
    ng = 'ng'
    ni = 'ni'
    nl = 'nl'
    no = 'no'
    np = 'np'
    nr = 'nr'
    nu = 'nu'
    nz = 'nz'
    om = 'om'
    pa = 'pa'
    pe = 'pe'
    pf = 'pf'
    pg = 'pg'
    ph = 'ph'
    pk = 'pk'
    pl = 'pl'
    pm = 'pm'
    pn = 'pn'
    pr = 'pr'
    ps = 'ps'
    pt = 'pt'
    pw = 'pw'
    py = 'py'
    qa = 'qa'
    re = 're'
    ro = 'ro'
    rs = 'rs'
    ru = 'ru'
    rw = 'rw'
    sa = 'sa'
    sb = 'sb'
    sc = 'sc'
    sd = 'sd'
    se = 'se'
    sg = 'sg'
    sh = 'sh'
    si = 'si'
    sj = 'sj'
    sk = 'sk'
    sl = 'sl'
    sm = 'sm'
    sn = 'sn'
    so = 'so'
    sr = 'sr'
    ss = 'ss'
    st = 'st'
    sv = 'sv'
    sx = 'sx'
    sy = 'sy'
    sz = 'sz'
    tc = 'tc'
    td = 'td'
    tf = 'tf'
    tg = 'tg'
    th = 'th'
    tj = 'tj'
    tk = 'tk'
    tl = 'tl'
    tm = 'tm'
    tn = 'tn'
    to = 'to'
    tr = 'tr'
    tt = 'tt'
    tv = 'tv'
    tw = 'tw'
    tz = 'tz'
    ua = 'ua'
    ug = 'ug'
    uk = 'uk'
    us = 'us'
    uy = 'uy'
    uz = 'uz'
    va = 'va'
    vc = 'vc'
    ve = 've'
    vg = 'vg'
    vi = 'vi'
    vn = 'vn'
    vu = 'vu'
    wf = 'wf'
    ws = 'ws'
    xk = 'xk'
    ye = 'ye'
    yt = 'yt'
    za = 'za'
    zm = 'zm'
    zw = 'zw'


class MaxCostUsd(RootModel[str]):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    root: str = Field(
        ..., pattern='^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$', title='Maxcostusd'
    )


class RunTaskRequest(BaseModel):
    task: str = Field(..., title='Task')
    model: BuModel | None = BuModel.bu_mini
    session_id: UUID | None = Field(None, alias='sessionId', title='Sessionid')
    keep_alive: bool | None = Field(False, alias='keepAlive', title='Keepalive')
    max_cost_usd: float | MaxCostUsd | None = Field(
        None, alias='maxCostUsd', title='Maxcostusd'
    )
    profile_id: UUID | None = Field(None, alias='profileId', title='Profileid')
    proxy_country_code: ProxyCountryCode | None = Field(None, alias='proxyCountryCode')
    output_schema: Dict[str, Any] | None = Field(
        None, alias='outputSchema', title='Outputschema'
    )


class SessionResponse(BaseModel):
    model_config = ConfigDict(
        regex_engine="python-re",
    )
    id: UUID = Field(..., title='Id')
    status: BuAgentSessionStatus
    model: BuModel
    title: str | None = Field(None, title='Title')
    output: Any = Field(None, title='Output')
    live_url: str | None = Field(None, alias='liveUrl', title='Liveurl')
    profile_id: UUID | None = Field(None, alias='profileId', title='Profileid')
    proxy_country_code: ProxyCountryCode | None = Field(None, alias='proxyCountryCode')
    max_cost_usd: MaxCostUsd | None = Field(
        None, alias='maxCostUsd', title='Maxcostusd'
    )
    total_input_tokens: int | None = Field(
        0, alias='totalInputTokens', title='Totalinputtokens'
    )
    total_output_tokens: int | None = Field(
        0, alias='totalOutputTokens', title='Totaloutputtokens'
    )
    proxy_used_mb: str | None = Field(
        '0',
        alias='proxyUsedMb',
        pattern='^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$',
        title='Proxyusedmb',
    )
    llm_cost_usd: str | None = Field(
        '0',
        alias='llmCostUsd',
        pattern='^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$',
        title='Llmcostusd',
    )
    proxy_cost_usd: str | None = Field(
        '0',
        alias='proxyCostUsd',
        pattern='^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$',
        title='Proxycostusd',
    )
    total_cost_usd: str | None = Field(
        '0',
        alias='totalCostUsd',
        pattern='^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$',
        title='Totalcostusd',
    )
    created_at: AwareDatetime = Field(..., alias='createdAt', title='Createdat')
    updated_at: AwareDatetime = Field(..., alias='updatedAt', title='Updatedat')


class ValidationError(BaseModel):
    loc: List[str | int] = Field(..., title='Location')
    msg: str = Field(..., title='Message')
    type: str = Field(..., title='Error Type')


class HTTPValidationError(BaseModel):
    detail: List[ValidationError] | None = Field(None, title='Detail')


class SessionListResponse(BaseModel):
    sessions: List[SessionResponse] = Field(..., title='Sessions')
    total: int = Field(..., title='Total')
    page: int = Field(..., title='Page')
    page_size: int = Field(..., alias='pageSize', title='Pagesize')
